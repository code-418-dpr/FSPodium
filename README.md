# FSPodium

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

Платформа для координации между ФСП и её представительствами в регионах

## Демо

-   **Развёрнутый проект:** [code418.ru](https://code418.ru)
-   **Telegram-бот:** [@FSPodium_bot](https://t.me/FSPodium_bot)
-   **Презентация:** [Яндекс.Диск](https://disk.yandex.ru/i/RUo_xc7l0bC2gg)

P.S. Сертификат SSL может быть невалидным, но это не повлияет на работоспособность сайта.

**Данные для входа в личный кабинет центрального представителя**

-   Email: admin@admin.com
-   Пароль: admin

**Данные для входа в личный кабинет регионального представителя**

-   Email: region1@fsp-russia.com (также можно заменить 1 на любую цифру от 1 до 4)
-   Пароль: 11111111

## Особенности разработки

-   веб-приложение:
    -   [x] авторизация пользователей с проверкой почты
    -   [x] поддержка ролей центрального и региональных представительств
    -   [x] возможность подачи заявки на регистрацию аккаунта представительства и добавление соревнований
    -   [x] просмотр и управление всеми типами заявок центром
    -   [x] одобренные центром события отображаются в удобном календаре
    -   [x] вывод аналитической информации
    -   [x] уведомления о новых заявках и обращениях, а также изменении их статуса
    -   [x] изменение публичной контактной информации
-   Telegram-бот:
    -   [x] вход в учётную запись через веб-приложение
    -   [x] один из способов получения уведомлений
    -   [x] канал связи между центром и регионами
    -   [x] получение публичных данных о представительстве
    -   [x] получение справочной информации
-   мигратор ЕКП:
    -   [x] вызывается единожды при инициализации БД для заполнения её реальными данными
    -   [x] парсит соревнования 2024 года из последней версии ЕКП
    -   [x] поддерживает изменение ссылки на файл ЕКП в будущем
-   генератор данных:
    -   [x] позволяет генерировать синтетические данные, приближенные к реальным
    -   [x] позволяет парсить TXT и CSV датасеты
    -   [x] сохраняет сгенерированные данные в PostgreSQL
-   парсер отчётов:
    -   [x] позволяет распознавать результаты соревнований из файлов формата DOCX
    -   [x] полностью поддерживается формат отчётов ФСП ДНР

> [!NOTE]
> Всё вышеперечисленное упаковано в контейнер Docker и развёрнуто на VDS! Более подробные описания каждого сервиса можно найти в их исходном коде ниже.

## Исходный код

-   **[Веб-приложение](/web/)**
-   **[Telegram-бот](/bot/)**
-   **[Мигратор ЕКП](/migrator/)**
-   **[Парсер отчётов](/report-parser/)**
-   **[Генератор данных](/generator/)**
-   **[Файловый сервис](/file-service/)**
-   **[Планировщик уведомлений](/notifications-service/)**

## В планах

-   [ ] дополнительные варианты отображения контента
-   [ ] перенос основных возможностей веб-приложения в Telegram-бот
-   [ ] составление календарного плана и отчётов о соревнованиях в удобном интерфейсе
-   [ ] единый шаблон генерации выходных документов для всех регионов
-   [ ] упразднение мигратора и парсера отчётов после обеспечения полного перехода всех представительств на FSPodium
-   [ ] расширение целевой аудитории платформы: тренеры, спортсмены, кейсодержатели
-   [ ] общий рейтинг спортсменов на платформе с историей соревнований и наградами

## Технологии

-   **Фронтенд:** TypeScript + React + shadcn/ui + Tailwind CSS
-   **Бэкенд:** Bun + Next.js + PostgreSQL + Prisma ORM
-   **Telegram-бот:** Python + Pyrogram + FastAPI + HTTPX + SQLite
-   **Мигратор ЕКП:** Python + PyMuPDF + HTTPX
-   **Парсер отчётов:** C# + ASP.NET Core + OpenXml + Serilog + Swagger
-   **Генератор данных:** C# + EF Core 9 + PostgreSQL
-   **Архитектура:** микросервисы, упакованные в контейнер Docker и взаимодействующие по HTTP

## Запуск у себя

0. Клонируйте репозиторий, перейдите в его папку и создайте в ней файл `.env` на основе `.env.template`.
1. Установите и настройте [Docker](https://www.docker.com/).
2. Соберите образы для всех сервисов и запустите контейнер:

```
docker-compose up -d --build
```

Веб-приложение будет доступно по [этому адресу](http://127.0.0.1:3000).
